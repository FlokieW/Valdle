<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valdle - Valorant-themed Wordle</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #0f1923;
            color: #ece8e1;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1, h2 {
            color: #ff4655;
            text-align: center;
        }
        .game-select {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
        }
        .game-button, .submit-button {
            background-color: #ff4655;
            color: #ece8e1;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px;
        }
        .game-area {
            background-color: #1f2933;
            padding: 20px;
            border-radius: 5px;
        }
        .input-area {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }
        input[type="text"] {
            padding: 10px;
            font-size: 16px;
            width: 200px;
        }
        .feedback {
            text-align: center;
            margin-top: 20px;
        }
        .map-image {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
        }
        .minimap {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 20px auto;
            background-color: #333;
        }
        .click-area {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: rgba(255, 255, 255, 0.5);
            border: 2px solid #fff;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Valdle</h1>
        <div id="root"></div>
    </div>

    <script type="text/babel">
        // Mock data for the games
        const skinData = [
            { name: "Prime", tier: "Premium", releaseDate: "2020-06-02", color: "White" },
            { name: "Reaver", tier: "Premium", releaseDate: "2020-11-05", color: "Purple" },
            { name: "Glitchpop", tier: "Exclusive", releaseDate: "2020-08-04", color: "Blue" },
        ];

        const mapData = [
            { name: "Ascent", image: "/api/placeholder/400/300", minimap: "/api/placeholder/300/300" },
            { name: "Bind", image: "/api/placeholder/400/300", minimap: "/api/placeholder/300/300" },
            { name: "Haven", image: "/api/placeholder/400/300", minimap: "/api/placeholder/300/300" },
        ];

        const GuessSkinGame = ({ onEnd }) => {
            const [currentSkin, setCurrentSkin] = React.useState(null);
            const [guess, setGuess] = React.useState("");
            const [feedback, setFeedback] = React.useState("");
            const [attempts, setAttempts] = React.useState(0);

            React.useEffect(() => {
                setCurrentSkin(skinData[Math.floor(Math.random() * skinData.length)]);
            }, []);

            const handleGuess = () => {
                setAttempts(attempts + 1);
                if (guess.toLowerCase() === currentSkin.name.toLowerCase()) {
                    setFeedback("Correct! You guessed the skin!");
                    setTimeout(() => onEnd(), 2000);
                } else {
                    const tierCorrect = guess.toLowerCase() === currentSkin.tier.toLowerCase();
                    const colorCorrect = guess.toLowerCase() === currentSkin.color.toLowerCase();
                    setFeedback(`Incorrect. Tier: ${tierCorrect ? "✓" : "✗"}, Color: ${colorCorrect ? "✓" : "✗"}`);
                }
            };

            return (
                <div>
                    <h2>Guess the Skin</h2>
                    <p>Listen to the sound and guess the skin line!</p>
                    <div className="input-area">
                        <input 
                            type="text" 
                            value={guess} 
                            onChange={(e) => setGuess(e.target.value)} 
                            placeholder="Enter skin name"
                        />
                        <button className="submit-button" onClick={handleGuess}>Submit</button>
                    </div>
                    <div className="feedback">{feedback}</div>
                </div>
            );
        };

        const GeoGuesserGame = ({ onEnd }) => {
            const [currentMap, setCurrentMap] = React.useState(null);
            const [stage, setStage] = React.useState('guessMap');
            const [guess, setGuess] = React.useState("");
            const [feedback, setFeedback] = React.useState("");

            React.useEffect(() => {
                setCurrentMap(mapData[Math.floor(Math.random() * mapData.length)]);
            }, []);

            const handleMapGuess = () => {
                if (guess.toLowerCase() === currentMap.name.toLowerCase()) {
                    setFeedback("Correct! Now select the location on the minimap.");
                    setStage('guessLocation');
                } else {
                    setFeedback("Incorrect. Try again!");
                }
            };

            const handleLocationGuess = (e) => {
                const rect = e.target.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                // In a real implementation, we'd check if the coordinates are correct
                setFeedback("Location guessed! Game over.");
                setTimeout(() => onEnd(), 2000);
            };

            return (
                <div>
                    <h2>Map Guesser</h2>
                    {stage === 'guessMap' ? (
                        <>
                            <img src={currentMap?.image} alt="Map section" className="map-image" />
                            <div className="input-area">
                                <input 
                                    type="text" 
                                    value={guess} 
                                    onChange={(e) => setGuess(e.target.value)} 
                                    placeholder="Enter map name"
                                />
                                <button className="submit-button" onClick={handleMapGuess}>Submit</button>
                            </div>
                        </>
                    ) : (
                        <div className="minimap" onClick={handleLocationGuess}>
                            <img src={currentMap?.minimap} alt="Minimap" className="map-image" />
                            <div className="click-area"></div>
                        </div>
                    )}
                    <div className="feedback">{feedback}</div>
                </div>
            );
        };

        const ResultsScreen = ({ gameType, result }) => {
            const copyResults = () => {
                navigator.clipboard.writeText(`I played ${gameType} on Valdle and got ${result}!`);
            };

            const shareOnX = () => {
                const text = encodeURIComponent(`I played ${gameType} on Valdle and got ${result}!`);
                window.open(`https://twitter.com/intent/tweet?text=${text}`, '_blank');
            };

            return (
                <div>
                    <h2>Results</h2>
                    <p>Game: {gameType}</p>
                    <p>Result: {result}</p>
                    <button className="game-button" onClick={copyResults}>Copy Results</button>
                    <button className="game-button" onClick={shareOnX}>Share on X</button>
                </div>
            );
        };

        const App = () => {
            const [currentGame, setCurrentGame] = React.useState(null);
            const [showResults, setShowResults] = React.useState(false);
            const [gameResult, setGameResult] = React.useState("");

            const startGame = (game) => {
                setCurrentGame(game);
                setShowResults(false);
            };

            const endGame = () => {
                setGameResult("Sample Result"); // In a real implementation, we'd calculate the actual result
                setShowResults(true);
            };

            return (
                <div>
                    <div className="game-select">
                        <button className="game-button" onClick={() => startGame('skin')}>Guess the Skin</button>
                        <button className="game-button" onClick={() => startGame('map')}>Map Guesser</button>
                    </div>
                    <div className="game-area">
                        {currentGame === 'skin' && !showResults && <GuessSkinGame onEnd={endGame} />}
                        {currentGame === 'map' && !showResults && <GeoGuesserGame onEnd={endGame} />}
                        {showResults && <ResultsScreen gameType={currentGame} result={gameResult} />}
                    </div>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>